<!DOCTYPE html>
<html lang="en" class="RCV">

<head>
    <meta charset="utf-8">
</head>

<body class="RCV">
<p>Load SDK instance multiple.</p>

<iframe id="peer-a" src="./original.html" frameborder="0"></iframe>
<iframe id="peer-b" src="./original.html" frameborder="0"></iframe>
<iframe id="peer-c" src="./original.html" frameborder="0"></iframe>
<script>
    const peerA = document.getElementById("peer-a")
    const peerB = document.getElementById("peer-b")
    const peerC = document.getElementById("peer-c")

    window.addEventListener('message', (e) => {
        if (e.data && e.data.type === 'READY_IFRAME_DATA') {
            peerA.contentWindow.postMessage({
                type: 'INIT_DATA',
                data: {
                    clientId: 'peerA clientID',
                    clientSecret: 'peerA client secret',
                    token: {
                        access_token: "xxx",
                        endpoint_id: "xxx",
                        expires_in: 3600,
                        owner_id: "xxx",
                        refresh_token: "xxx",
                        refresh_token_expires_in: 604800,
                        scope: "ReadAccounts Meetings SubscriptionWebhook",
                        token_type: "bearer"
                    }
                }
            },'*')
            peerB.contentWindow.postMessage({
                type: 'INIT_DATA',
                data: {
                    clientId: 'peerB clientID',
                    clientSecret: 'peerB client secret',
                    token: {
                        access_token: "xxx",
                        endpoint_id: "xxx",
                        expires_in: 3600,
                        owner_id: "xxx",
                        refresh_token: "xxx",
                        refresh_token_expires_in: 604800,
                        scope: "ReadAccounts Meetings SubscriptionWebhook",
                        token_type: "bearer"
                    }
                }
            },'*')
            peerC.contentWindow.postMessage({
                type: 'INIT_DATA',
                data: {
                    clientId: 'peerB clientID',
                    clientSecret: 'peerB client secret',
                    token: {
                        access_token: "xxx",
                        endpoint_id: "xxx",
                        expires_in: 3600,
                        owner_id: "xxx",
                        refresh_token: "xxx",
                        refresh_token_expires_in: 604800,
                        scope: "ReadAccounts Meetings SubscriptionWebhook",
                        token_type: "bearer"
                    }
                }
            },'*')
        }
    })
</script>
</body>
</html>
